<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>How to Set Up a Self-Hosted Bitwarden Add-On on Home Assistant | ZestW</title><meta name=generator content="Hugo 0.98.0"><meta name=description content="The same Home Assistant server that makes your home smart can also run other services, such as Bitwarden. All you need to do is set up a self-hosted Bitwarden Server on top of your Home Assistant installation as an add-on. You can then use this Bitwarden server to create and save complex passwords on your smartphone or within a web browser on your PC.
  The best part is you will never have to pay for the password manager service as it’s completely open-source and free."><link rel=stylesheet href=https://assets.cdnweb.info/hugo/cayman/css/normalize.css><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel=stylesheet type=text/css><link rel=stylesheet href=https://assets.cdnweb.info/hugo/cayman/css/cayman.css><link rel=apple-touch-icon sizes=180x180 href=./apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=./favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=./favicon-16x16.png><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css integrity=sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js integrity=sha384-9Nhn55MVVN0/4OFx7EE5kpFBPsEMZxKTCnA+4fqDmg12eCTqGi6+BB2LjY8brQxJ crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/contrib/auto-render.min.js integrity=sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI crossorigin=anonymous onload=renderMathInElement(document.body)></script></head><body><section class=page-header><h1 class=project-name>ZestW</h1><h2 class=project-tagline></h2><nav><a href=./index.html class=btn>Blog</a>
<a href=./sitemap.xml class=btn>Sitemap</a>
<a href=./index.xml class=btn>RSS</a></nav></section><section class=main-content><h1>How to Set Up a Self-Hosted Bitwarden Add-On on Home Assistant</h1><div><strong>Publish date: </strong>2024-04-11</div><p>The same Home Assistant server that makes your home smart can also run other services, such as Bitwarden. All you need to do is set up a self-hosted Bitwarden Server on top of your Home Assistant installation as an add-on. You can then use this Bitwarden server to create and save complex passwords on your smartphone or within a web browser on your PC.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>The best part is you will never have to pay for the password manager service as it’s completely open-source and free.</p><h2 id=things-you-will-need>Things You Will Need</h2><p>You will need <a href=#>Home Assistant Server running on a Raspberry Pi</a> (preferably on a Raspberry Pi 4 4GB or 8GB). Although you can also <a href=#>install Home Assistant Server on a PC</a> or other hardware, since that version is non-supervised, you will have to install and configure the add-ons manually via the Command Line shell.</p><p>Once you have set up Home Assistant on the Raspberry Pi, follow the steps below to install, configure and deploy Bitwarden.</p><h2 id=install-the-bitwarden-add-on>Install the Bitwarden Add-On</h2><p>To install the Bitwarden add-on in Home Assistant, follow these steps:</p><li>Login to your Home Assistant Server and navigate to <strong>Settings</strong> > <strong>Add-ons</strong>.</li><li>Click the <strong>ADD-ON STORE</strong> button.</li><li>Use the Search bar to search and click on <strong>Vaultwarden (Bitwarden)</strong>.</li><li>Click the <strong>Install</strong> button to begin installing the Bitwarden add-on on your Home Assistant Server. This may take up to a minute to finish.<img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.makeuseofimages.com/wordpress/wp-content/uploads/2022/09/install-bitwarden-add-on-home-assistant-server.jpg></li><li>Once installed, enable Start on boot, Watchdog, and Auto-update options.</li><li>Then click <strong>Start</strong>.</li><p>If you can’t find it, click <strong><a href=# rel="noopener noreferrer">this link</a></strong> > <strong>Open link</strong> to add the repository and then search and install the Bitwarden add-on.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>You can now visit the IP of your Home Assistant Server with port <strong>7277</strong>. For instance, <strong>192.168.0.111:7277</strong>.</p><p>You may also click on the open Web UI button on the add-on page to open the Bitwarden Web UI. However, you cannot create an account or register unless you secure the Bitwarden Server.</p><h2 id=configure-the-ssl-using-cloudflared-tunnel>Configure the SSL using Cloudflared Tunnel</h2><p>In the Home Assistant Server, you can install and use the Cloudflared add-on to expose the local Bitwarden server to the internet with secure SSL/TLS encryption. Once you start the Cloudflared tunnel, you or other users for whom you create accounts in Bitwarden can easily access and manage their password vaults from across all their devices.</p><p>The steps are as follows:</p><li>Register a free domain on Freenom.com or you may purchase a new domain for hosting your Bitwarden server. Once you have the domain, create an account on Cloudflare and add your domain. Also, enable HTTPS.<img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.makeuseofimages.com/wordpress/wp-content/uploads/2022/07/authroize-cloudflare-tunnel-access-to-the-domain.jpg></li><li>Click on <a href=#>this link</a> and then click the <strong>Open Link</strong> option. This will open your local Home Assistant instance and allow you to add this custom repository to your Home Assistant for installing the required Cloudflared add-on.<img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.makeuseofimages.com/wordpress/wp-content/uploads/2022/09/add-cloudflared-tunnel-repository-to-home-assistant.jpg></li><li>Click <strong>Add</strong> to add the repository.</li><li>Under <strong>Settings</strong> > <strong>Add-Ons</strong>, search for Cloudflared and click <strong>Install</strong>.</li><li>After the installation, enable <strong>Start on boot</strong> and <strong>Watchdog</strong> options.</li><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><li>Then click <strong>Configuration</strong> and then click on the <strong>three dots</strong> > <strong>Edit in YAML</strong>.</li><li>Paste the following code in the Options field. Make sure to replace ‘<strong>YourDomainName</strong>’ with your domain name and the IP address in the <strong>Service: </strong>with your Home Assistant Server IP. Keep the Port 7277.<pre><code class="hljs xml">additional_hosts:<br>&nbsp;&nbsp;<span class=hljs-selector-tag>-</span>&nbsp;<span class=hljs-selector-tag>hostname</span>: <span class=hljs-selector-tag>bitwarden</span><span class=hljs-selector-class>.YourDomainName</span><span class=hljs-selector-class>.org</span><br>&nbsp;&nbsp;&nbsp;&nbsp;service: http:<span class=hljs-comment>//192.168.0.111:7277</span><br><span class=hljs-selector-tag>external_hostname</span>: <span class=hljs-selector-tag>YourDomainName</span><span class=hljs-selector-class>.org</span><br>tunnel_name: bitwardenserver<br>tunnel_token: <span class=hljs-string>""</span><br>nginx_proxy_manager: <span class=hljs-literal>false</span><br>log_level: debug<br>warp_enable: <span class=hljs-literal>true</span><br>warp_routes:<br>&nbsp;&nbsp;- 192.168.0.2/24</code> </pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.makeuseofimages.com/wordpress/wp-content/uploads/2022/09/edit-the-cloudflared-configuration-file.jpg></li><li>Click <strong>Save</strong> and then click <strong>Restart ADD-ON</strong>.<strong></strong></li><li>Con the Cloudflared add-on page, and click the <strong>Log</strong> tab.<img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.makeuseofimages.com/wordpress/wp-content/uploads/2022/09/start-the-cloudflared-tunnel.jpg></li><li>After a few seconds, you will see a Cloudflare URL. Copy this URL and paste it into your web browser. This will open the Cloudflare page.</li><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><li>Log in to Cloudflare and then select the domain name you added.</li><li>Click <strong>Authorize</strong>. Once authorized, the add-on will create a secure tunnel for your Bitwarden server.</li><li>Open <a href=# rel="noopener noreferrer">File Editor</a> and click on the <strong>folder</strong> icon at the top left.</li><li>Click on the <strong>Configuration.yaml </strong>file and paste the following lines as shown below and click the <strong>Save</strong> icon.<pre><code class="hljs xml">http:<br>use_x_forwarded_for: <span class=hljs-literal>true</span><br>trusted_proxies:<br>- 172.30.33.0/24</code> </pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.makeuseofimages.com/wordpress/wp-content/uploads/2022/09/add-the-code-to-configuration-file-of-home-assistant.jpg></li><li>Go to the Developer tools and click Check Configuration. If it shows Configuration valid, click <strong>Restart</strong>. Wait for the server to restart.</li><li>Once restarted, you can visit the https://bitwarden.yourdomainname.com URL to access the Bitwarden server on the internet with secure SSL/TLS encryption.<img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.makeuseofimages.com/wordpress/wp-content/uploads/2022/09/bitwarden-server-access-remotely-via-cloudflared-tunnel.jpg></li><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>You can now sign up and create user accounts for yourself and your family and friends.</p><h2 id=disable-sign-ups>Disable Sign-Ups</h2><p>Currently, anyone with your Bitwarden URL can sign up and create vaults. To avoid this, you can disable sign-ups. For this, you need to access the Bitwarden admin panel at the following address:</p><p>https://bitwarden.yourdomainname.org/admin</p><p>Then paste the <strong>admin token </strong>(get the admin token/password in the logs) to open the admin panel. If you don’t see the access token, re-install the add-on again and then check the log again after starting the add-on.</p><p>The add-on shows the admin token only once. Note it down somewhere safe.</p><p>Once you access the admin panel, you can edit and change various settings, including disabling sign-ups. You can also enable two-factor authentication and create policies on how users can access and use their Bitwarden accounts hosted on your Home Assistant Server.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><h2 id=use-bitwarden-on-android-or-ios-devices>Use Bitwarden on Android or iOS Devices</h2><p>To access and use Bitwarden on your Android or iOS device, you need to install the Bitwarden Password manager App from the Google Play Store or App Store.</p><p>Once the app is installed, follow these steps on your Android or iOS device:</p><li>Open the Bitwarden Password Manager app and then tap on the <strong>gear</strong> icon at the top-left of the app.</li><li>Enter your <strong>Bitwarden server URL</strong>, i.e. https://bitwarden.yourdomainname.com, and save it.<img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.makeuseofimages.com/wordpress/wp-content/uploads/2022/09/add-bitwarden-to-your-android-ios-devices-1.jpg></li><li>Then tap on the <strong>Log In </strong>button and enter the username and password to login into your Bitwarden Server vault and access all passwords.</li><h2 id=setup-bitwarden-on-web-browser>Setup Bitwarden on Web Browser</h2><p>To access and use the Bitwarden Server and accounts on your web browsers, you need to install the Bitwarden password manager extension. The extension is available for all major web browsers, such as Chrome, Edge, Mozilla Firefox, etc.</p><p>After installing the Extension, follow these steps to configure it and access or save all your passwords securely on your web browsers across all devices.</p><li>In the <strong>Chrome</strong> web browser, click on the <strong>Bitwarden </strong>extension and then click on the <strong>Gear</strong> icon.</li><li>Enter your Bitwarden Server URL, i.e., https://bitwarden.yourdomainname.com, and click <strong>Save</strong>.<img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.makeuseofimages.com/wordpress/wp-content/uploads/2022/09/add-bitwarden-to-web-browser-1.jpg></li><li>Click <strong>login</strong> and then enter the username and password on your Bitwarden server. If you have enabled Two-factor authentication, enter the code to log in.</li><li>You can now access all passwords and manage them securely right on your web browser.</li><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>The steps are more or less similar to other web browsers.</p><h2 id=free-password-manager-for-lifetime>Free Password Manager for Lifetime</h2><p>Now that setup is complete, you can export all your passwords from your web browser in JSON or CSV format and import them directly into your BitWarden vault.</p><p>With a self-hosted Bitwarden Server, you will never have to get a subscription for a password manager. Secured with SSL/TLS via Cloudflared tunnel and multi-factor authentication (MFA), your server remains secure, and the passwords remain encrypted on all your devices. The passwords are also auto-synced across all your devices. Plus Bitwarden will also notify you if any of your passwords are found in leaks or data breaches.</p><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmivp6x7rq3KnqysnZ%2Bbe6S7zGifqK9dqbxutc2sq5qknGKur7CMrJytraBir6rA1pqpnZ2eYq6lsIyopWannmK1sLnEZpisq5mowaK602g%3D</p><footer class=site-footer><span class=site-footer-credits>Made with <a href=https://gohugo.io/>Hugo</a>. © 2022. All rights reserved.</span></footer></section><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/floating.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>